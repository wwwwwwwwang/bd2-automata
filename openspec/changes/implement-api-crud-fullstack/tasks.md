## 1. Schema 对齐（shared + SQL）

- [ ] 1.1 对齐 `backup_schema_only.sql` 与 `packages/shared/src/db/schema/**`：字段、主外键、唯一约束。
- [ ] 1.2 统一 ID 数据策略：DB `BIGINT(64位)`；后端雪花生成；对外契约 `string`。
- [ ] 1.3 为软删表补齐删除标记字段与默认查询过滤所需定义。
- [ ] 1.4 明确硬删表（关联/中间表）清单，避免误用软删。

## 2. 后端 API（首批资源）

- [ ] 2.1 用户资源：实现并验证单条查询、分页、新增、修改、删除。
- [ ] 2.2 角色资源：实现并验证单条查询、分页、新增、修改、删除。
- [ ] 2.3 权限资源：实现并验证单条查询、分页、新增、修改、删除。
- [ ] 2.4 用户-角色、角色-权限关联接口：按表策略执行硬删。
- [ ] 2.5 路由参数/DTO/响应体 ID 统一为 `string` 语义。

## 3. 日志资源策略收敛

- [ ] 3.1 仅保留日志查询接口。
- [ ] 3.2 提供日志删除接口（按需求保留必要权限与筛选能力）。
- [ ] 3.3 拒绝日志新增/修改请求并返回可识别错误码与错误信息。

## 4. 前端契约接入（后置阶段）

- [ ] 4.1 `packages/web/src/api/**` 统一按 string 处理 ID 字段。
- [ ] 4.2 页面侧分页/详情/编辑删除调用统一契约，移除临时字段映射补丁。
- [ ] 4.3 完成用户/角色/权限域联调回归。

## 5. 验收与回归

- [ ] 5.1 验证首批资源 CRUD + 分页能力可用。
- [ ] 5.2 验证 ID 全链路一致：DB BIGINT、后端雪花生成、接口/前端 string。
- [ ] 5.3 验证删除策略：软删默认过滤、硬删删除后不可查。
- [ ] 5.4 验证日志策略：仅查询+删除，新增/修改被拒绝。
